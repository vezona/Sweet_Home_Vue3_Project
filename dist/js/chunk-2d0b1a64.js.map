{"version":3,"sources":["webpack:///./src/views/back/LoginBack.vue","webpack:///./src/views/back/LoginBack.vue?0020"],"names":["class","id","for","type","username","placeholder","required","autofocus","password","sendUser","name","components","backNav","data","created","mounted","methods","user","this","$http","post","then","res","console","log","success","token","expired","document","cookie","Date","$router","push","alert","message","catch","error","render"],"mappings":"4IAEOA,MAAM,a,GACJA,MAAM,8B,EACP,eAEK,MAFDA,MAAM,0CAAyC,WAEnD,G,GACKA,MAAM,S,GACDC,GAAG,OAAOD,MAAM,e,GACbA,MAAM,sB,EAGP,eAA2C,SAApCE,IAAI,YAAW,iBAAa,G,GAElCF,MAAM,iB,EAGP,eAAsC,SAA/BE,IAAI,YAAW,YAAQ,G,4GAhBhD,eAAmB,GACnB,eAuBM,MAvBN,EAuBM,CAtBJ,eAqBM,MArBN,EAqBM,CApBF,EAGA,eAgBM,MAhBN,EAgBM,CAfF,eAcO,OAdP,EAcO,CAbH,eAIM,MAJN,EAIM,C,eAHF,eACsD,SAD/CC,KAAK,QAAQH,MAAM,eAAeC,GAAG,W,qDAAoB,EAAAG,SAAQ,IACpEC,YAAY,mBAAmBC,SAAA,GAASC,UAAA,I,mBADoB,EAAAH,YAEhE,IAEJ,eAIM,MAJN,EAIM,C,eAHF,eACoC,SAD7BD,KAAK,WAAWH,MAAM,eAAeC,GAAG,W,qDAAoB,EAAAO,SAAQ,IACvEH,YAAY,WAAWC,SAAA,I,mBADwC,EAAAE,YAEnE,IAEJ,eAES,UAFDR,MAAM,mCAAmCG,KAAK,SAAU,QAAK,8CAAU,EAAAM,UAAA,EAAAA,SAAA,qBAAQ,eAAE,iB,8BAW1F,GACbC,KAAM,QACNC,WAAY,CAAEC,UAAA,MACdC,KAHa,WAIX,MAAO,CACLT,SAAU,GACVI,SAAU,KAGdM,QATa,aAUbC,QAVa,aAWbC,QAAS,CACPP,SADO,WACK,WACJQ,EAAO,CACXb,SAAUc,KAAKd,SACfI,SAAUU,KAAKV,UAEjBU,KAAKC,MAAMC,KAAX,UAAmB,uCAAnB,iBAA2DH,GACxDI,MAAK,SAAAC,GAEJ,GADAC,QAAQC,IAAIF,IACa,IAArBA,EAAIT,KAAKY,QAAkB,CAE7B,IAAMC,EAAQJ,EAAIT,KAAKa,MACjBC,EAAUL,EAAIT,KAAKc,QACzBJ,QAAQC,IAAIE,EAAOC,GAEnBC,SAASC,OAAT,mBAA8BH,EAA9B,oBAA+C,IAAII,KAAKH,IAExD,EAAKI,QAAQC,KAAK,gCAElBC,MAAMX,EAAIT,KAAKqB,YAGlBC,OAAM,SAAAC,GACLb,QAAQC,IAAIY,SC7DtB,EAAOC,OAASA,EAED","file":"js/chunk-2d0b1a64.js","sourcesContent":["<template>\r\n  <backNav></backNav>\r\n  <div class=\"container\">\r\n    <div class=\"row justify-content-center\">\r\n        <h1 class=\"h3 my-3 text-center font-weight-normal\">\r\n            管理員登入\r\n        </h1>\r\n        <div class=\"col-8\">\r\n            <form id=\"form\" class=\"form-signin\">\r\n                <div class=\"form-floating mb-3\">\r\n                    <input type=\"email\" class=\"form-control\" id=\"username\" v-model=\"username\"\r\n                        placeholder=\"name@example.com\" required autofocus>\r\n                    <label for=\"username\">Email address</label>\r\n                </div>\r\n                <div class=\"form-floating\">\r\n                    <input type=\"password\" class=\"form-control\" id=\"password\" v-model=\"password\"\r\n                        placeholder=\"Password\" required>\r\n                    <label for=\"password\">Password</label>\r\n                </div>\r\n                <button class=\"btn btn-submit btn-lg w-100 mt-3\" type=\"submit\" @click.prevent=\"sendUser\">\r\n                    登入\r\n                </button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport backNav from '../../components/backNav.vue'\r\nexport default {\r\n  name: 'login',\r\n  components: { backNav },\r\n  data () {\r\n    return {\r\n      username: '',\r\n      password: ''\r\n    }\r\n  },\r\n  created () {},\r\n  mounted () {},\r\n  methods: {\r\n    sendUser () {\r\n      const user = {\r\n        username: this.username,\r\n        password: this.password\r\n      }\r\n      this.$http.post(`${process.env.VUE_APP_API}/admin/signin`, user)\r\n        .then(res => {\r\n          console.log(res)\r\n          if (res.data.success === true) {\r\n            // 接著設定token/expired等等\r\n            const token = res.data.token\r\n            const expired = res.data.expired\r\n            console.log(token, expired)\r\n            // 存token進cookie\r\n            document.cookie = `hextoken=${token};expired=${new Date(expired)}`\r\n            // 轉址\r\n            this.$router.push('/dashboard/productsList')\r\n          } else {\r\n            alert(res.data.message)\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import { render } from \"./LoginBack.vue?vue&type=template&id=10706ffa\"\nimport script from \"./LoginBack.vue?vue&type=script&lang=js\"\nexport * from \"./LoginBack.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}